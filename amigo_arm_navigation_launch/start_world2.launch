<launch>
  <!-- start office world with table and cup-->
 <!-- <param name="/use_sim_time" value="false"/>-->
  <include file="$(find gazebo_worlds)/launch/office_world.launch"/>


  <!-- send table urdf to param server -->
  <param name="table_description" command="$(find xacro)/xacro.py $(find gazebo_worlds)/objects/table.urdf.xacro" />
    <!-- push table_description to factory and spawn robot in gazebo -->
  <node name="spawn_table" pkg="gazebo" type="spawn_model" args="-urdf -param table_description -z 0.01 -x -4 -y 3.35 -model table_model" respawn="false" output="screen" />


  <!-- start controller manager (rviz) -->
  <include file="$(find pr2_controller_manager)/controller_manager.launch"/>

  <include file="$(find amigo_simulation_controllers)/controllers.launch"/>

  <!-- load robot -->
  <param name="robot_description" command="$(find xacro)/xacro.py '$(find amigo_robot_model)/robot.urdf.xacro' " />

  <!-- push robot_description to factory and spawn robot in gazebo -->
  <node name="spawn_single_link" pkg="gazebo_tools" type="gazebo_model" args="-p robot_description spawn  -x -3 -y 2.3 -z 0.1 -Y 1.57" respawn="false" />

</launch>

