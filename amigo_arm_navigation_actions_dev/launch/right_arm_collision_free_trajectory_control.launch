<launch>
  <!-- load planning_environment -->
  <include file="$(find amigo_arm_navigation_actions)/launch/environment_server_right_arm.launch"/>

  <!-- load filter -->
  <node pkg="trajectory_filter_server" name="trajectory_filter" type="trajectory_filter_server" output="screen">
    <rosparam command="load" file="$(find pr2_arm_navigation_actions)/config/collision_free_control_filter_config.yaml"/>
    <rosparam command="load" file="$(find pr2_arm_navigation_config)/config/joint_limits.yaml"/>
  </node>

	<node pkg="collision_free_arm_trajectory_controller" name="collision_free_arm_trajectory_controller" type="collision_free_arm_trajectory_controller" output="screen">
   <param name="traj_action_name" type="string" value="/r_arm_controller/joint_trajectory_action" />
   <param name="group_name" type="string" value="right_arm" />
   <remap from="filter_trajectory" to="trajectory_filter/filter_trajectory" />	
   <remap from="get_robot_state" to="environment_server_right_arm/get_robot_state" />
   <remap from="get_execution_safety" to="environment_server_right_arm/get_execution_safety" />
   <remap from="get_trajectory_validity" to="environment_server_right_arm/get_trajectory_validity" />
  </node>

</launch>
